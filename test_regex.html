<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>regex</title>
</head>

<body>
    <div>regex</div>

</body>

<script>
    // 正则表达式

    var print = function (a, b, c, d, e) {
        console.log(`${e} ----- [ title ]`)
        console.log(`${a} ----- [ reg ]`)
        console.log(`${b} ----- [ replacement ]`)
        console.log(`${c} ----- [ str ]`)
        console.log(`${d} ----- [ str.replace(reg, replacement) ]`)
        console.log(``)
    }



    //  非元字符
    var title = '非元字符'
    var str = 'this is a real man!'
    var reg = /a/g
    var replacement = 'A'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  元字符
    var title = '元字符'
    var str = '$ ( ) * + . ? [ \\ ^ { |'
    // var reg = /^/
    // var reg = /$/
    var reg = /\$ \( \) \* \+ \. \? \[ \\ \^ \{ \|/
    var replacement = 'XXX'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  不区分大小写 /xxx/i
    var title = '不区分大小写 /xxx/i'
    var str = 'this is A real man!'
    // var reg = /a/g
    var reg = /a/gi
    var replacement = 'XXX'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  不可打印字符
    var title = '不可打印字符'
    var str = `this is  A  real
    man!`
    // var reg = /\n/g
    var reg = /\x0A/g
    var replacement = 'XXX'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  字符类 []
    var title = '字符类 []'
    var str = 'calendar celender calandar'
    var reg = /c[ae]l[ae]nd[ae]r/g
    var replacement = 'XXX'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  十六进制字符 [-]
    var title = '十六进制字符 [-]'
    var str = '1234567890ABCdefghijklmnopqrstuvwxyz'
    var reg = /[0-9a-fA-F]/g
    var replacement = 'X-'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  非十六进制字符 [^]
    var title = '非十六进制字符 [^]'
    var str = '1234567890ABCdefghijklmnopqrstuvwxyz'
    var reg = /[^0-9a-fA-F]/g
    var replacement = 'X-'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  英文字母
    var title = '英文字母'
    var str = '1234567890ABCdefghijklmnopqrstuvwxyz'
    var reg = /[A-Za-z]/g
    var replacement = 'X-'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 简写 \d \D \w \W \s \S \b \B
    var title = '简写 \\d \\D \\w \\W \\s \\S \\b \\B'
    var str = '1 2 3 a b c 4 5 6 _   domain'
    // var reg = /\d|[\d]|[0-9]/g
    // var reg = /\D|[^\d]|[^0-9]/g
    // var reg= /\w/g
    // var reg= /\W/g
    // var reg= /\s/g
    // var reg= /\S/g
    var reg = /\b/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 匹配任意字符
    var title = '匹配任意字符'
    var str = `this is!@#$%^&*()_+":;><?,/.
    A real man!`
    // var reg = /./g      //换行除外
    var reg=/./gs
    // var reg=/[\s\S]/g  
    // var reg=/[\d\D]/g   
    // var reg = /[\w\W]/g   
    // var reg=/[^]/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    //  文本行起始-结束 ^ $
    var title = '文本行起始-结束 ^ $'
    var str = 'start start this is A real man! end end'
    // var reg = /^start/
    var reg = /end$/
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 单词边界 \b \B
    var title = '单词边界 \\b \\B'
    var str = 'this is ffreal realff ffrealff A real man !'
    // var reg = /real/g
    // var reg = /real\b/g
    // var reg = /\breal/g
    // var reg = /\breal\b/g
    var reg = /\Breal\B/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 多个选择分支之一 |
    var title = '多个选择分支之一 |'
    var str = 'this is A real man!'
    var reg = /i|a/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 分组 ()
    var title = '分组 ()'
    var str = 'this thisisreal is A real man'
    // var reg = /\bthis|is|real\b/g
    var reg = /\b(this|is|real)\b/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 捕获分组 ()
    var title = '捕获分组 ()'
    var str = '2020-01-05'
    var reg = /(\d\d\d\d)-(\d\d)-(\d\d)/g
    var replacement = '$1/$2/$3'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 非捕获分组 (?:)
    var title = '非捕获分组 (?:)'
    var str = '2020-01-05'
    var reg = /(\d\d\d\d)-(?:\d\d)-(?:\d\d)/g
    var replacement = '$1/$2/$3'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 再次匹配先前匹配的文本 反向指代 
    var title = '再次匹配先前匹配的文本 反向指代'
    var str = '2008-08-08'
    var reg = /\d\d(\d\d)-\1-\1/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 命名捕获 命名反向引用 (?<name>) \k<name>
    var title = '命名捕获 命名反向引用 (?<name>) \\k<name>'
    var str = '2008-08-08'
    // var reg = /(?<year>\d\d\d\d)-(?<month>\d\d)-(?<day>\d\d)/g
    var reg = /\d\d(?<magic>\d\d)-\k<magic>-\k<magic>/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 固定次数重复
    var title = '固定次数重复'
    var str = 'Google'
    var reg = /o{1}|o/
    var reg = /o{2}/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 可变次数重复
    var title = '可变次数重复'
    var str = 'baaanaana'
    // var str = 'bbbbbbb'
    // var reg = /a{1,3}/g
    var reg=/a{0,1}|a?/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 无限重复次数
    var title = '无限重复次数'
    var str = 'ma1mama2mamama3mamamama4'
    // var reg = /(ma){3,}/g
    // var reg=/(ma){0,}|(ma)*/g
    var reg = /(ma){1,}|(ma)+/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 重复分组
    var title = '重复分组'
    var str = '12345678'
    // var reg = /(\d\d){1,4}/g
    // var reg = /((?:\d\d){1,4})/g
    var reg=/((\d\d){1,4})/g
    var replacement = '$1 $2 $3 $4'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 贪心量词 默认    惰性量词 ?
    var title = '贪心量词 默认    惰性量词 ?'
    var str = '<p>1</p><p>2</p><p>3</p><p>4</p><p>5</p>'
    // var reg = /<p>\d<\/p>/g
    // var reg = /<p>[\s\S]*<\/p>/g
    var reg = /<p>[\s\S]*?<\/p>/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 环视 (?<=) (?=)
    var title = '环视 (?<=) (?=)'
    var str = 'My 0cat0 0cat1 is max'
    var reg = /(?<=0)cat(?=0)/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 否定型环视 (?<!) (?!)
    var title = '否定型环视  (?<!) (?!)'
    var str = 'My 0cat0 0catw wcat0 wcatw is max'
    var reg = /(?<!\d)cat(?!\d)/g
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // // 根据条件匹配两者之一
    // var title = '根据条件匹配两者之一'
    // var str = 'abc bd ad cd'
    // // var reg = /abc|bd/g
    // // var reg=/(a)?b(?(1)c|d)/g
    // var replacement = 'X'
    // var str2 = str.replace(reg, replacement)
    // print(reg, replacement, str, str2, title)



    // 在替代文本中添加正则匹配 $&
    var title = '在替代文本中添加正则匹配 $&'
    var str = 'http://www.123.com  '
    var reg = /http:\S+/g
    var replacement = '<a href="$&">$&</a>'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // 匹配上下文 $` $' $&
    var title = '匹配上下文 $` $\' $&'
    var str = 'abc'
    var reg = /b/g
    var replacement = '$`$`$&$\'$\''
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // exec函数
    var title = 'exec函数'
    var str = '11a22b33c44d55e'
    // var reg = /\d+?/g
    var reg = /\d+/g
    var match
    while(match=reg.exec(str)){
        // debugger
        console.log(match[0]+'-----match[0]')
        console.log(match.index+'-----match.index')
        console.log(match[0].length+'-----match[0].length')
        console.log(match.input+'-----match.input')
    }
    console.log('')


    
    // xxx
    var title = 'xxx'
    var str = 'xxxxx'
    var reg = reg
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // xxx
    var title = 'xxx'
    var str = 'xxxxx'
    var reg = reg
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // xxx
    var title = 'xxx'
    var str = 'xxxxx'
    var reg = reg
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)



    // xxx
    var title = 'xxx'
    var str = 'xxxxx'
    var reg = reg
    var replacement = 'X'
    var str2 = str.replace(reg, replacement)
    print(reg, replacement, str, str2, title)

</script>


</html>